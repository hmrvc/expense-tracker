<div class="container w-50 mt-5">
  <div class="row">
{{!-- 用類別篩選顯示項目 --}}
    <div class="col-12 text-center">
      <form action="/search">
        <select name="category" class="form-select" aria-label="Default select example" >
          <option value="" disabled selected>{{#if categorySet}}{{categorySet}}{{else}}請選擇項目類別{{/if}}</option>
          <option value="交通出行">交通出行</option>
          <option value="家居物業">家居物業</option>
          <option value="休閒娛樂">休閒娛樂</option>
          <option value="餐飲食品">餐飲食品</option>
          <option value="其他">其他</option>
        </select>
        <button type="submit" class="btn btn-dark mt-3">以類別搜尋</button>
        <a type="button" class="btn btn-dark mt-3" href="/">顯示全部</a>
      </form>

    </div>
  </div>
  <div class="row mt-3">
    <h6>總金額:</h6>
    <h1 class="text-end text-danger fw-bold">{{totalAmount}}</h1>
  </div>

<div class="row mt-3">
  <ul class="list-group">
    {{!-- each --}}
    {{#if records}}
    {{#each records}}
    <li class="list-group-item d-flex px-0 my-2 border-0">
        <div class="col-8 d-flex pr-0 align-items-center">
          <h2 class="ms-5" style="width: 15%;"><i class="{{this.categoryId.icon}}"></i></h2>
          <div class="flex-grow-1 ml-2 text-dark">
            <h4 class="m-0 mb-1">{{this.name}}</h4>
            <small class="d-block">{{this.date}}</small>
          </div>
          <h4 class="m-0 text-dark text-right">{{this.amount}}</h4>
        </div>
        <div class="col-4 d-flex justify-content-center align-items-center">
          <a type="button" class="btn btn-light me-3" href="/record/{{this._id}}/edit">修改</a>
          <form action="/record/{{this._id}}?_method=DELETE" method="POST">
            <button class="btn btn-secondary ml-2" type="submit">刪除</button>
          </form>
        </div>
      </li>
  </ul>
    {{/each}}
    {{/if}}
  <div class="row my-3">
      <a class="btn btn-dark col-4 m-auto" href="/record/create">新增支出</a>
  </div> 
</div>



